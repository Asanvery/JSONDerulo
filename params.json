{"note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Jsonderulo","google":"","body":"# JSONDerulo - A JSON feed fetcher for MODX Revolution CMS\r\n\r\nSnippets and chunks to pull in various social JSON feeds.\r\nResults are cached for 12 hours by default, but you can specify your own time limit in seconds using &cacheTime=``. Make sure you call the snippet uncached from your templates!\r\nMost snippets allow you to specify multiple usernames, however any feeds which require an API key will not yet work with multiple accounts.\r\nThe following feeds are already set up:\r\n\r\n* App.net - most recent posts\r\n* Delicious - most recent bookmarks\r\n* Flickr - most recent photographs in your photostream\r\n* LastFM - recent \"loved\" tracks or recent \"listens\"\r\n* Picasa - Photos from a named album\r\n* Twitter - most recent tweets\r\n* Vimeo - most recent \"likes\"\r\n* YouTube - Most recent additions to \"favourites\" playlist or specific user's uploads\r\n* ZooTool - Most recent items (pages or images)\r\n\r\n## Thanks!\r\n\r\nPlenty of thouroughly helpful help from [Mister John Noel](https://github.com/johnnoel) and his code on which these snippets are based.\r\n\r\n## Requirements/Prerequisites\r\n\r\n* Tested on MODx 2.2.x\r\n* PHPThumbOf\r\n* API Keys for certain feeds\r\n* That's it!\r\n\r\n## Still to do\r\n\r\n~~Having added option to include retweets in the Twitter feed, probably needs some work on placeholders available specific to retweets.~~\r\nDone. See placeholders further down...\r\n\r\n\r\n## Available snippets\r\n\r\n### App.net\r\n\r\nYou need your user id to get this working, not your username. You can find it on your profile page. [Hat tip to \"man\"](https://alpha.app.net/man/post/20858).\r\n\r\n```\r\n<ul>\r\n  [[!AppDotNetFeed? &tpl=`AppDotNetFeedItem` &userId=`USERID` &limit=`LIMIT` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n### Delicious\r\n\r\n```\r\n<ul>\r\n  [[!DeliciousFeed? &tpl=`DeliciousFeedItem` &users=`USERNAME` &limit=`LIMIT` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n### Flickr\r\n\r\nRequires API key, get one here: [Flickr API Key](http://www.flickr.com/services/apps/create/apply)\r\n\r\n```\r\n<ul>\r\n\t[[!FlickrFeed? &tpl=`FlickrFeedItem` &limit=`LIMIT` &users=`FLICKR USER ID` &apiKey=`API KEY` &userName=`USERNAME` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n### LastFM\r\n\r\nRequires api key, get one here: [LastFM API Key](http://www.last.fm/api/account)\r\n\r\n```\r\n<ul>\r\n\t[[!LastFmFeed? &tpl=`LastFmFeedItem` &limit=`LIMIT` &users=`USERNAME` &apiKey=`API KEY` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n```\r\n<ul>\r\n\t[[!LastFmListensFeed? &tpl=`LastFmFeedItem` &limit=`LIMIT` &users=`USERNAME` &apiKey=`API KEY` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n### Picasa\r\n\r\n```\r\n<ul>\r\n\t[[!PicasaFeed? &tpl=`PicasaFeedItem` &limit=`LIMIT` &users=`USERID` &albumId=`ALBUMID` &albumName=`ALBUMNAME` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n### Twitter\r\n\r\n```\r\n<ul>\r\n\t[[!TwitterFeed? &tpl=`TwitterFeedItem` &limit=`LIMIT` &users=`USERNAME` &includeRTs=`1 or 0` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n### Twitter (New API version)\r\n\r\nYou need to set up a Twitter \"App\" to make this work. From March 2013, this is the ONLY way. The method above will stop working altogether by this date. See more information in the Twitter section below!\r\n\r\nThe cacheName option is for users who may want to use the snippet more than once on a site for different users' tweets. Setting this appends the text to the cache filename so multiple feeds can be cached. I've added a string replacement to swap spaces for hyphens in there too.\r\n\r\nThe screenName option is *optional*. It will allow you to fetch another user's timeline. If this is not provided, it will default to the user whose consumer key, etc, that you are using.\r\n\r\n```\r\n<ul>\r\n\t[[!TwitterFeedNew? &tpl=`TwitterFeedItem` &limit=`LIMIT` &cacheName=`UNIQUE_NAME_TO_APPEND_TO_CACHE_FILE` &screenName=`USER_SCREEN_NAME_TO_FETCH_TIMELINE_FOR` &includeRTs=`1 or 0` &consumerKey=`YOUR_CONSUMER_KEY` &consumerSecret=`YOUR_CONSUMER_SECRET` &accessToken=`YOUR_ACCESS_TOKEN` &accessTokenSecret=`YOUR_ACCESS_TOKEN_SECRET` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n### Vimeo\r\n\r\n```\r\n<ul>\r\n\t[[!VimeoFeed? &tpl=`VimeoFeedItem` &users=`USERNAME` &limit=`LIMIT` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n### YouTube\r\n\r\n```\r\n<ul>\r\n\t[[!YouTubeFeed? &tpl=`YouTubeFeedItem` &limit=`LIMIT` &users=`USERNAME` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n```\r\n<ul>\r\n\t[[!YouTubeFeedUploads? &tpl=`YouTubeFeedItem` &limit=`LIMIT` &users=`USERNAME` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n### ZooTool\r\n\r\nRequires API key, get one here: [ZooTool API Key](http://zootool.com/api/keys)\r\n\r\n```\r\n<ul>\r\n\t[[!ZooToolFeed? &tpl=`ZooToolFeedItem` &limit=`LIMIT` &users=`USERNAME` &apiKey=`API KEY` &cacheTime=`CACHE_TIME_IN_SECONDS`]]\r\n</ul>\r\n```\r\n\r\n## Chunks\r\n\r\nI've provided basic chunks to get you started. Any feed which returns thumbnails/imagery I've used PHPThumbOf, if you use these chunks make sure you have it installed too!\r\n\r\nYou can also use the MODx's output filters to provide fallback should the feed you request be empty. E.g. - such as a new twitter account with no tweets yet:\r\n\r\n```\r\n[[!TwitterFeed:default=`<li>No tweets</li>`? &tpl=`TwitterFeedItem` &limit=`10` &users=`USERNAME`]]\r\n```\r\n\r\nThe basic Twitter chunk also shows you how to use the isRetweet option to switch out your details for the author of the tweet you retweeted. The example isn't the best, but it'll give you the right idea, and will also allow you to integrate a retweet icon if you wish.\r\n\r\n### Chunk placeholders\r\n\r\nCurrently only the basics have placeholders provided. The YouTube feed, for example, has more options that you may ever need. If I find I ever use them, I will add them in.\r\n\r\n\r\n#### App.net:\r\n\r\nThe App.net feed is very pleasant and gives you the option of either \"text\" or \"html\" versions of a post. I've included placeholders for both. The basic chunk I've provided only uses [[+text]].\r\n\r\n[[+id]]\r\n[[+text]]\r\n[[+html]]\r\n[[+created]]\r\n[[+picture]]\r\n[[+title]]\r\n[[+username]]\r\n[[+profile]]\r\n[[+postUrl]]\r\n\r\n#### Delicious:\r\n\r\n```\r\n[[+title]]\r\n[[+description]]\r\n[[+link]]\r\n[[+date]]\r\n[[+username]]\r\n```\r\n\r\n#### Flickr:\r\n\r\n```\r\n[[+id]]\r\n[[+created]]\r\n[[+picture]]\r\n[[+picturelarge]]\r\n[[+title]]\r\n[[+username]]\r\n```\r\n\r\n#### LastFM:\r\n\r\n```\r\n[[+track]]\r\n[[+artist]]\r\n[[+link]]\r\n[[+picture]]\r\n[[+date]]\r\n[[+username]]\r\n```\r\n\r\n### Picasa:\r\n\r\n```\r\n[[+link]]\r\n[[+albumid]]\r\n[[+created]]\r\n[[+picture]]\r\n[[+title]]\r\n[[+userid]]\r\n[[+albumname]]\r\n```\r\n\r\n#### Twitter:\r\n\r\n```\r\n[[+id]]\r\n[[+message]]\r\n[[+created]]\r\n[[+picture]]\r\n[[+title]]\r\n[[+username]]\r\n[[+retweetCount]]\r\n[[+isRetweet]]\r\n[[+originalAuthorPicture]]\r\n[[+originalAuthor]]\r\n[[+originalUsername]]\r\n[[+originalId]]\r\n```\r\n#### Vimeo:\r\n\r\n```\r\n[[+id]]\r\n[[+url]]\r\n[[+created]]\r\n[[+picture]]\r\n[[+title]]\r\n[[+username]]\r\n```\r\n\r\n#### YouTube:\r\n\r\n```\r\n[[+published]]\r\n[[+picture]]\r\n[[+title]]\r\n[[+ytlink]]\r\n[[+embedlink]]\r\n[[+author]]\r\n```\r\n\r\n#### ZooTool:\r\n\r\n```\r\n[[+date]]\r\n[[+picture]]\r\n[[+title]]\r\n[[+username]]\r\n[[+referrer]]\r\n[[+permalink]]\r\n```\r\n\r\n### CSS\r\n\r\nI've used the clearfix from the [HTML5 Boilerplate normalize.css](http://www.html5boilerplate.com) on ```<li>``` items to clear floats inside them:\r\n\r\n```css\r\n.cf:before, .cf:after { content: \"\"; display: table; }\r\n.cf:after { clear: both; }\r\n.cf { *zoom: 1; }\r\n```\r\n\r\n\r\n### PHPThumbOf settings\r\n\r\nEnsure you have the following in the \"phpthumb_nohotlink_valid_domains\" section:\r\n\r\n* Flickr: ```*.flickr.com, *.staticflickr.com```\r\n* ZooTool: ```s3.amazonaws.com```\r\n* YouTube Thumbnails: ```.ytimg.com```\r\n* LastFM Album art: ```userserve-ak.last.fm```\r\n* Vimeo Thumbnails: ```*.vimeocdn.com```\r\n* Twitter profile avatars: ```*.twimg.com```\r\n* Picasa Thumbnails: ```*.googleusercontent.com```\r\n* App.net avatars: ```*.cloudfront.net```\r\n\r\n\r\n## Twitter feed and the new API\r\n\r\nMuch publicised changes to the Twitter API means that you have to authenticate to get public feed data now. I will keep the original, easy way to get a Twitter feed until the date they switch this off, but you're probably best going through the pain of getting onto the new API stuff now.\r\n\r\nThis uses the excellent (and thoroughly easy to use) [TwitterOAuth](https://github.com/abraham/twitteroauth/) by [Abraham Williams](https://github.com/abraham) (check out his incredible beard!). If you're adding the JSONDerulo snippets and chunks manually, you're going to need to upload a copy of the TwitterOAuth stuff to {core_path}/components/jsonderulo/\r\n\r\nThe transport package will do this automatically for you. (Hopefully).\r\n\r\nTo set up a Twitter \"App\", go to the [Twitter dev site](https://dev.twitter.com/apps/) and choose \"Create a new application\". Fill in the form and you'll end up with a new \"app\" which will let you know the consumer secret, consumer key, access token, and access token secret.\r\n\r\nHat tip also to [Stewart Orr](http://www.qodo.co.uk/blog/twitterx-a-new-modx-extra-for-pulling-in-twitter-feeds-using-api-1.1/), whose TwitterX addon reminded me to get my backside in gear and fix this package up!\r\n\r\n## Twitter display \"requirements\"\r\n\r\nI've included a new chunk for displaying tweets. This includes several changes which *should* make the output acceptable based on the [Developer display requirements documentation](https://dev.twitter.com/terms/display-requirements). You will need to include the Twitter widgets.js somewhere on the page you're displaying tweets on. You only need this included ONCE on the page, not for each tweet.\r\n\r\n```\r\n<script type=\"text/javascript\" src=\"//platform.twitter.com/widgets.js\"></script>\r\n```\r\n\r\nAlso, hat tip to [basvaneijk](https://github.com/basvaneijk) for the preg_replace stuff to auto link @, # and URLs within the [[+message]]\r\n","tagline":"JSON feed getter-er"}